cmake_minimum_required(VERSION 3.5...3.16)

project(video_encode_image VERSION "${BUILD_VERSION_STRING}" LANGUAGES CXX)

include_directories(${INCLUDE_DIR})
include_directories(${3RDPART_DIR}/sdk/hikvision/include/linux)
include_directories(${3RDPART_DIR}/sdk/ffmpeg)

link_directories(${3RDPART_DIR}/sdk/hikvision/lib/linux)
link_directories(${3RDPART_DIR}/sdk/ffmpeg)

file(GLOB_RECURSE src "*.cpp")
file(GLOB_RECURSE framework_utils_src "${SOURCE_DIR}/utils/memory/*.cpp")

add_library(${PROJECT_NAME} SHARED ${src} ${framework_utils_src})
target_link_libraries(${PROJECT_NAME} PUBLIC avcodec avformat avutil swscale hcnetsdk PlayCtrl pthread)